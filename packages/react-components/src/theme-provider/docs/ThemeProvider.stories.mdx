import { ArgsTable, Meta, Story } from "@storybook/addon-docs/blocks";
import { Button } from "@react-components/button";
import { ComponentInfo, Preview, Tagline } from "@stories/components";
import { ThemeProvider } from "@react-components/theme-provider";

<Meta
    title="Components/ThemeProvider"
    id="theme-provider"
/>

# ThemeProvider

<Tagline>Container for Orbit UI applications used to define the theme and color scheme to use.</Tagline>

<ComponentInfo
    usage={"import { ThemeProvider, ThemeContext, useThemeContext } from \"@orbit-ui/react-components\""}
    githubPath="/packages/react-components/src/theme-provider/src"
/>

## Usage

A Provider must be the root component of your application. All other Orbit UI components rely on the `ThemeProvider` to define the theme and color scheme that they need in order to render.

If you need to access the current theme you can do so, by using the `useThemeContext` hook.

### Default

A default theme provider.

<Preview>
    <Story name="default">
        <ThemeProvider theme="desktop" colorScheme="light">
            <Button color="primary">Cutoff</Button>
        </ThemeProvider>
    </Story>
</Preview>

### Nesting

Theme providers can be nested.

<Preview>
    <Story name="nesting">
        <ThemeProvider theme="desktop" colorScheme="light">
            <ThemeProvider theme="overcast" colorScheme="light">
                <Button color="primary">Cutoff</Button>
            </ThemeProvider>
        </ThemeProvider>
    </Story>
</Preview>

### User setting

A theme provider can select a color scheme according to the user's operating system setting.

To enable this feature, you must pass the `system` value to `colorScheme` and an additional *fallback* color scheme to `defaultColorScheme` in case the theme provider can't access the user setting.

<Preview>
    <Story name="system">
        <ThemeProvider theme="apricot" colorScheme="system" defaultColorScheme="light">
            <Button color="primary">Cutoff</Button>
        </ThemeProvider>
    </Story>
</Preview>

### Context

The closest `ThemeContext` can be accessed with the `useThemeContext` hook. Once you have an hold on the context, you can access is values and update the `colorScheme`.

<Preview filePath="/theme-provider/docs/ColorSchemePicker" noInline />

## API

### ThemeProvider

<ComponentInfo
    usage={"import { ThemeProvider } from \"@orbit-ui/react-components\""}
    compact
/>

<ArgsTable of={ThemeProvider} />
